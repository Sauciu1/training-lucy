<mujoco model="lucy">
  <!-- Lucy: Pre-hominid ancestor for quadrupedal/bipedal RL locomotion -->
  <compiler angle="degree" coordinate="local" inertiafromgeom="true" autolimits="true"/>
  <option integrator="Euler" timestep="0.003" gravity="0 0 -9.81">
    <flag warmstart="enable" multiccd="enable"/>
  </option>
  <size nconmax="200" njmax="500"/>

  <custom>
    <numeric data="0.0 0.0 0.22 1.0 0.0 0.0 0.0" name="init_qpos"/>
  </custom>

  <!-- ==================== DEFAULT CLASSES ==================== -->
  <default>
    <joint armature="0.2" damping="1.0" limited="true" frictionloss="0.1"/>
    <geom conaffinity="0" condim="3" density="125.0" friction="1 0.5 0.5" margin="0.001"/>
    <motor ctrllimited="true" ctrlrange="-0.5 0.5"/>

    <default class="torso">
      <geom rgba="0.6 0.45 0.35 1" density="200.0"/>
      <joint damping="0.8"/>
    </default>

    <default class="head">
      <geom rgba="0.7 0.55 0.45 1" density="25.0"/>
      <joint damping="0.6" range="0 70"/>
    </default>

    <default class="neck">
      <geom rgba="0.6 0.48 0.38 1" density="30.0"/>
      <joint damping="0.8" range="0 70"/>
    </default>

    <default class="front_leg">
      <geom rgba="0.55 0.4 0.3 1" density="250.0"/>
      <default class="front_hip">
        <joint damping="0.5" range="0 60"/>
      </default>

      <!-- Knee: prevent hyperextension + keep it "mid-bent" (no negative range) -->
      <default class="front_knee">
        <joint type="hinge" axis="0 1 0" damping="0.6" range="20 150"/>
      </default>

      <!-- Ankle pitch -->
      <default class="front_ankle">
        <joint type="hinge" axis="0 1 0" damping="0.4" range="-60 60"/>
      </default>
    </default>

    <default class="hind_leg">
      <geom rgba="0.55 0.4 0.3 1" density="250.0"/>

      <!-- Hip: increase cone range to allow large flexion for bipedal walking -->
      <default class="hind_hip">
        <joint damping="0.5" range="0 120"/>
      </default>

      <!-- Knee: prevent hyperextension + keep it "mid-bent" (no negative range) -->
      <default class="hind_knee">
        <joint type="hinge" axis="0 1 0" damping="0.6" range="25 155"/>
      </default>

      <!-- Ankle pitch -->
      <default class="hind_ankle">
        <joint type="hinge" axis="0 1 0" damping="0.4" range="-60 60"/>
      </default>
    </default>

    <!-- Secondary foot tilt (roll) -->
    <default class="foot_tilt">
      <!-- small range for stability -->
      <joint type="hinge" axis="1 0 0" damping="0.25" range="-15 15"/>
    </default>

    <!-- Reusable FLAT SQUARE FOOT (+ optional fillet approximation) -->
    <default class="foot">
      <!-- Stable contact -->
      <geom conaffinity="1" condim="4" friction="1.5 0.5 0.5" solref="0.02 0.02" margin="0.0008"/>


      <default class="foot_sole">
        <geom type="box" pos="0.005 0.000 -0.012" size="0.020 0.020 0.006"/>
      </default>

      <default class="foot_edge_xp">
        <geom type="capsule" fromto="0.025 -0.020 -0.012 0.025  0.020 -0.012" size="0.004"/>
      </default>
      <default class="foot_edge_xn">
        <geom type="capsule" fromto="-0.015 -0.020 -0.012 -0.015  0.020 -0.012" size="0.004"/>
      </default>
      <default class="foot_edge_yp">
        <geom type="capsule" fromto="-0.015  0.020 -0.012 0.025  0.020 -0.012" size="0.004"/>
      </default>
      <default class="foot_edge_yn">
        <geom type="capsule" fromto="-0.015 -0.020 -0.012 0.025 -0.020 -0.012" size="0.004"/>
      </default>

      <default class="foot_corner_pp">
        <geom type="sphere" pos="0.025  0.020 -0.012" size="0.004"/>
      </default>
      <default class="foot_corner_pn">
        <geom type="sphere" pos="0.025 -0.020 -0.012" size="0.004"/>
      </default>
      <default class="foot_corner_np">
        <geom type="sphere" pos="-0.015  0.020 -0.012" size="0.004"/>
      </default>
      <default class="foot_corner_nn">
        <geom type="sphere" pos="-0.015 -0.020 -0.012" size="0.004"/>
      </default>
    </default>

    <!-- Tail segments (no twist DOF: implemented as 2-hinge "universal" joints per segment) -->
    <default class="tail">
      <geom rgba="0.5 0.35 0.25 1" density="250.0"/>
      <joint damping="0.3"/>
    </default>
  </default>

  <!-- ==================== ASSETS ==================== -->
  <asset>
    <texture builtin="gradient" height="100" rgb1="0.8 0.9 1" rgb2="0.4 0.5 0.6" type="skybox" width="100"/>
    <texture builtin="checker" height="100" name="texplane" rgb1="0.2 0.3 0.2" rgb2="0.4 0.5 0.4" type="2d" width="100"/>
    <texture name="face_tex" type="2d" file="roblox_face.png"/>
    <material name="MatPlane" reflectance="0.5" shininess="1" specular="1" texrepeat="60 60" texture="texplane"/>
    <material name="face" texture="face_tex" texrepeat="1 1"/>
  </asset>

  <!-- ==================== WORLD ==================== -->
  <worldbody>
    <light cutoff="100" diffuse="1 1 1" dir="0 0 -1.3" directional="true" exponent="1" pos="0 0 1.3" specular=".1 .1 .1"/>
    <geom conaffinity="1" condim="3" material="MatPlane" name="floor" pos="0 0 0" size="40 40 0.1" type="plane" margin="0.001"/>

    <body name="chest" pos="0 0 0.22">
      <camera name="track" mode="trackcom" pos="0 -1 0.1" xyaxes="1 0 0 0 0 1"/>
      <joint name="root" type="free" armature="0" damping="0" limited="false"/>
      <geom class="torso" name="chest_geom" type="box" size="0.045 0.06 0.04"/>
      <site name="chest_site" pos="0 0 0" size="0.01"/>

      <body name="neck" pos="0.045 0 0.01">
        <joint class="neck" name="neck_base" type="ball" pos="-0.015 0 0"/>
        <geom class="neck" name="neck_geom" type="capsule" fromto="0 0 0 0.025 0 0.003" size="0.023"/>
        <site name="neck_site" pos="0.012 0 0" size="0.008"/>

        <body name="head" pos="0.05 0 0.005">
          <joint class="head" name="neck_head" type="ball" pos="-0.02 0 0"/>
          <geom class="head" name="head_geom" type="ellipsoid" size="0.035 0.03 0.03" pos="0.01 0 0" euler="0 90 0" material="face"/>
          <site name="head_site" pos="0.01 0 0" size="0.01"/>
        </body>
      </body>

      <body name="front_left_thigh" pos="0.02 0.055 0.013">
        <joint class="front_hip" name="front_left_hip" type="ball"/>
        <geom class="front_leg" name="front_left_thigh_geom" type="capsule" fromto="0 0 0 0.01 0.02 -0.08" size="0.02"/>
        <site name="front_left_thigh_site" pos="0.005 0.01 -0.04" size="0.01"/>

        <body name="front_left_shin" pos="0.01 0.02 -0.08">
          <joint class="front_knee" name="front_left_knee" type="hinge"/>
          <geom class="front_leg" name="front_left_shin_geom" type="capsule" fromto="0 0 0 0 0.01 -0.095" size="0.015"/>
          <site name="front_left_shin_site" pos="0 0.005 -0.047" size="0.01"/>

          <body name="front_left_foot" pos="0 0.01 -0.095">
            <joint class="front_ankle" name="front_left_ankle" type="hinge"/>
            <joint class="foot_tilt" name="front_left_tilt" type="hinge"/>

            <geom class="foot_sole" name="front_left_sole"/>
            <geom class="foot_edge_xp" name="front_left_edge_xp"/>
            <geom class="foot_edge_xn" name="front_left_edge_xn"/>
            <geom class="foot_edge_yp" name="front_left_edge_yp"/>
            <geom class="foot_edge_yn" name="front_left_edge_yn"/>
            <geom class="foot_corner_pp" name="front_left_corner_pp"/>
            <geom class="foot_corner_pn" name="front_left_corner_pn"/>
            <geom class="foot_corner_np" name="front_left_corner_np"/>
            <geom class="foot_corner_nn" name="front_left_corner_nn"/>

            <site name="front_left_foot_site" pos="0.005 0.000 -0.012" size="0.01"/>
          </body>
        </body>
      </body>

      <body name="front_right_thigh" pos="0.02 -0.055 0.013">
        <joint class="front_hip" name="front_right_hip" type="ball"/>
        <geom class="front_leg" name="front_right_thigh_geom" type="capsule" fromto="0 0 0 0.01 -0.02 -0.08" size="0.02"/>
        <site name="front_right_thigh_site" pos="0.005 -0.01 -0.04" size="0.01"/>

        <body name="front_right_shin" pos="0.01 -0.02 -0.08">
          <joint class="front_knee" name="front_right_knee" type="hinge"/>
          <geom class="front_leg" name="front_right_shin_geom" type="capsule" fromto="0 0 0 0 -0.01 -0.095" size="0.015"/>
          <site name="front_right_shin_site" pos="0 -0.005 -0.047" size="0.01"/>

          <body name="front_right_foot" pos="0 -0.01 -0.095">
            <joint class="front_ankle" name="front_right_ankle" type="hinge"/>
            <joint class="foot_tilt" name="front_right_tilt" type="hinge"/>

            <geom class="foot_sole" name="front_right_sole"/>
            <geom class="foot_edge_xp" name="front_right_edge_xp"/>
            <geom class="foot_edge_xn" name="front_right_edge_xn"/>
            <geom class="foot_edge_yp" name="front_right_edge_yp"/>
            <geom class="foot_edge_yn" name="front_right_edge_yn"/>
            <geom class="foot_corner_pp" name="front_right_corner_pp"/>
            <geom class="foot_corner_pn" name="front_right_corner_pn"/>
            <geom class="foot_corner_np" name="front_right_corner_np"/>
            <geom class="foot_corner_nn" name="front_right_corner_nn"/>

            <site name="front_right_foot_site" pos="0.005 0.000 -0.012" size="0.01"/>
          </body>
        </body>
      </body>

      <body name="trunk" pos="-0.06 0 0">
        <joint class="torso" name="spine_chest" type="ball" pos="0.02 0 0" range="0 35"/>
        <geom class="torso" name="trunk_geom" type="box" size="0.02 0.03 0.025"/>
        <site name="trunk_site" pos="0 0 0" size="0.01"/>

        <body name="hips" pos="-0.05 0 0">
          <joint class="torso" name="spine_hips" type="ball" pos="0.02 0 0" range="0 35"/>
          <geom class="torso" name="hips_geom" type="box" size="0.042 0.05 0.038" density="500.0"/>
          <site name="hips_site" pos="0 0 0" size="0.01"/>

          <body name="hind_left_thigh" pos="-0.02 0.06 0.013">
            <joint class="hind_hip" name="hind_left_hip" type="ball"/>
            <geom class="hind_leg" name="hind_left_thigh_geom" type="capsule" fromto="0 0 0 -0.015 0.025 -0.09" size="0.025"/>
            <site name="hind_left_thigh_site" pos="-0.007 0.012 -0.045" size="0.01"/>

            <body name="hind_left_shin" pos="-0.015 0.025 -0.09">
              <joint class="hind_knee" name="hind_left_knee" type="hinge"/>
              <geom class="hind_leg" name="hind_left_shin_geom" type="capsule" fromto="0 0 0 0 0.015 -0.08" size="0.018"/>
              <site name="hind_left_shin_site" pos="0 0.007 -0.04" size="0.01"/>

              <body name="hind_left_foot" pos="0 0.015 -0.08">
                <joint class="hind_ankle" name="hind_left_ankle" type="hinge"/>
                <joint class="foot_tilt" name="hind_left_tilt" type="hinge"/>

                <geom class="foot_sole" name="hind_left_sole"/>
                <geom class="foot_edge_xp" name="hind_left_edge_xp"/>
                <geom class="foot_edge_xn" name="hind_left_edge_xn"/>
                <geom class="foot_edge_yp" name="hind_left_edge_yp"/>
                <geom class="foot_edge_yn" name="hind_left_edge_yn"/>
                <geom class="foot_corner_pp" name="hind_left_corner_pp"/>
                <geom class="foot_corner_pn" name="hind_left_corner_pn"/>
                <geom class="foot_corner_np" name="hind_left_corner_np"/>
                <geom class="foot_corner_nn" name="hind_left_corner_nn"/>

                <site name="hind_left_foot_site" pos="0.005 0.000 -0.012" size="0.01"/>
              </body>
            </body>
          </body>

          <body name="hind_right_thigh" pos="-0.02 -0.06 0.013">
            <joint class="hind_hip" name="hind_right_hip" type="ball"/>
            <geom class="hind_leg" name="hind_right_thigh_geom" type="capsule" fromto="0 0 0 -0.015 -0.025 -0.09" size="0.025"/>
            <site name="hind_right_thigh_site" pos="-0.007 -0.012 -0.045" size="0.01"/>

            <body name="hind_right_shin" pos="-0.015 -0.025 -0.09">
              <joint class="hind_knee" name="hind_right_knee" type="hinge"/>
              <geom class="hind_leg" name="hind_right_shin_geom" type="capsule" fromto="0 0 0 0 -0.015 -0.08" size="0.018"/>
              <site name="hind_right_shin_site" pos="0 -0.007 -0.04" size="0.01"/>

              <body name="hind_right_foot" pos="0 -0.015 -0.08">
                <joint class="hind_ankle" name="hind_right_ankle" type="hinge"/>
                <joint class="foot_tilt" name="hind_right_tilt" type="hinge"/>

                <geom class="foot_sole" name="hind_right_sole"/>
                <geom class="foot_edge_xp" name="hind_right_edge_xp"/>
                <geom class="foot_edge_xn" name="hind_right_edge_xn"/>
                <geom class="foot_edge_yp" name="hind_right_edge_yp"/>
                <geom class="foot_edge_yn" name="hind_right_edge_yn"/>
                <geom class="foot_corner_pp" name="hind_right_corner_pp"/>
                <geom class="foot_corner_pn" name="hind_right_corner_pn"/>
                <geom class="foot_corner_np" name="hind_right_corner_np"/>
                <geom class="foot_corner_nn" name="hind_right_corner_nn"/>

                <site name="hind_right_foot_site" pos="0.005 0.000 -0.012" size="0.01"/>
              </body>
            </body>
          </body>

          <!-- ========== TAIL (2 DOF per segment, no twist) ========== -->
          <body name="tail_1" pos="-0.05 0 0.01">
            <joint class="tail" name="tail_joint_1_y" type="hinge" axis="0 1 0" range="-60 60" damping="0.3"/>
            <joint class="tail" name="tail_joint_1_z" type="hinge" axis="0 0 1" range="-60 60" damping="0.3"/>
            <geom class="tail" name="tail_1_geom" type="capsule" fromto="0 0 0 -0.09 0 0.03" size="0.018"/>
            <site name="tail_1_site" pos="-0.045 0 0.015" size="0.01"/>

            <body name="tail_2" pos="-0.09 0 0.03">
              <joint class="tail" name="tail_joint_2_y" type="hinge" axis="0 1 0" range="-60 60" damping="0.3"/>
              <joint class="tail" name="tail_joint_2_z" type="hinge" axis="0 0 1" range="-60 60" damping="0.3"/>
              <geom class="tail" name="tail_2_geom" type="capsule" fromto="0 0 0 -0.08 0 0.02" size="0.014"/>
              <site name="tail_2_site" pos="-0.04 0 0.01" size="0.01"/>

              <body name="tail_3" pos="-0.08 0 0.02">
                <joint class="tail" name="tail_joint_3_y" type="hinge" axis="0 1 0" range="-60 60" damping="0.3"/>
                <joint class="tail" name="tail_joint_3_z" type="hinge" axis="0 0 1" range="-60 60" damping="0.3"/>
                <geom class="tail" name="tail_3_geom" type="capsule" fromto="0 0 0 -0.07 0 0.01" size="0.01"/>
                <site name="tail_3_site" pos="-0.035 0 0.005" size="0.01"/>
              </body>
            </body>
          </body>

        </body>
      </body>
    </body>
  </worldbody>

  <!-- ==================== ACTUATORS ==================== -->
  <actuator>
    <motor name="neck_base_x" joint="neck_base" gear="5 0 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="neck_base_y" joint="neck_base" gear="0 5 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="neck_base_z" joint="neck_base" gear="0 0 5" ctrllimited="true" ctrlrange="-0.5 0.5"/>

    <motor name="neck_head_x" joint="neck_head" gear="5 0 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="neck_head_y" joint="neck_head" gear="0 5 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="neck_head_z" joint="neck_head" gear="0 0 5" ctrllimited="true" ctrlrange="-0.5 0.5"/>

    <motor name="spine_chest_x" joint="spine_chest" gear="10 0 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="spine_chest_y" joint="spine_chest" gear="0 10 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="spine_chest_z" joint="spine_chest" gear="0 0 10" ctrllimited="true" ctrlrange="-0.5 0.5"/>

    <motor name="spine_hips_x" joint="spine_hips" gear="10 0 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="spine_hips_y" joint="spine_hips" gear="0 10 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="spine_hips_z" joint="spine_hips" gear="0 0 10" ctrllimited="true" ctrlrange="-0.5 0.5"/>

    <motor name="fl_hip_x" joint="front_left_hip" gear="12 0 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="fl_hip_y" joint="front_left_hip" gear="0 12 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="fl_hip_z" joint="front_left_hip" gear="0 0 12" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="fl_knee" joint="front_left_knee" gear="10" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="fl_ankle" joint="front_left_ankle" gear="7" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="fl_tilt" joint="front_left_tilt" gear="4" ctrllimited="true" ctrlrange="-0.5 0.5"/>

    <motor name="fr_hip_x" joint="front_right_hip" gear="12 0 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="fr_hip_y" joint="front_right_hip" gear="0 12 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="fr_hip_z" joint="front_right_hip" gear="0 0 12" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="fr_knee" joint="front_right_knee" gear="10" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="fr_ankle" joint="front_right_ankle" gear="7" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="fr_tilt" joint="front_right_tilt" gear="4" ctrllimited="true" ctrlrange="-0.5 0.5"/>

    <motor name="hl_hip_x" joint="hind_left_hip" gear="12 0 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="hl_hip_y" joint="hind_left_hip" gear="0 12 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="hl_hip_z" joint="hind_left_hip" gear="0 0 12" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="hl_knee" joint="hind_left_knee" gear="10" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="hl_ankle" joint="hind_left_ankle" gear="7" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="hl_tilt" joint="hind_left_tilt" gear="4" ctrllimited="true" ctrlrange="-0.5 0.5"/>

    <motor name="hr_hip_x" joint="hind_right_hip" gear="12 0 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="hr_hip_y" joint="hind_right_hip" gear="0 12 0" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="hr_hip_z" joint="hind_right_hip" gear="0 0 12" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="hr_knee" joint="hind_right_knee" gear="10" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="hr_ankle" joint="hind_right_ankle" gear="7" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="hr_tilt" joint="hind_right_tilt" gear="4" ctrllimited="true" ctrlrange="-0.5 0.5"/>

    <motor name="tail_1_y" joint="tail_joint_1_y" gear="5" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="tail_1_z" joint="tail_joint_1_z" gear="5" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="tail_2_y" joint="tail_joint_2_y" gear="5" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="tail_2_z" joint="tail_joint_2_z" gear="5" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="tail_3_y" joint="tail_joint_3_y" gear="5" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    <motor name="tail_3_z" joint="tail_joint_3_z" gear="5" ctrllimited="true" ctrlrange="-0.5 0.5"/>
  </actuator>

  <!-- ==================== SENSORS ==================== -->
  <sensor>
    <accelerometer name="imu_acc" site="chest_site"/>
    <gyro name="imu_gyro" site="chest_site"/>
    <velocimeter name="imu_vel" site="chest_site"/>

    <touch name="touch_fl" site="front_left_foot_site"/>
    <touch name="touch_fr" site="front_right_foot_site"/>
    <touch name="touch_hl" site="hind_left_foot_site"/>
    <touch name="touch_hr" site="hind_right_foot_site"/>

    <accelerometer name="acc_trunk" site="trunk_site"/>
    <velocimeter name="vel_trunk" site="trunk_site"/>
    <accelerometer name="acc_hips" site="hips_site"/>
    <velocimeter name="vel_hips" site="hips_site"/>

    <accelerometer name="acc_fl_thigh" site="front_left_thigh_site"/>
    <velocimeter name="vel_fl_thigh" site="front_left_thigh_site"/>
    <accelerometer name="acc_fl_shin" site="front_left_shin_site"/>
    <velocimeter name="vel_fl_shin" site="front_left_shin_site"/>
    <accelerometer name="acc_fl_foot" site="front_left_foot_site"/>
    <velocimeter name="vel_fl_foot" site="front_left_foot_site"/>

    <accelerometer name="acc_fr_thigh" site="front_right_thigh_site"/>
    <velocimeter name="vel_fr_thigh" site="front_right_thigh_site"/>
    <accelerometer name="acc_fr_shin" site="front_right_shin_site"/>
    <velocimeter name="vel_fr_shin" site="front_right_shin_site"/>
    <accelerometer name="acc_fr_foot" site="front_right_foot_site"/>
    <velocimeter name="vel_fr_foot" site="front_right_foot_site"/>

    <accelerometer name="acc_hl_thigh" site="hind_left_thigh_site"/>
    <velocimeter name="vel_hl_thigh" site="hind_left_thigh_site"/>
    <accelerometer name="acc_hl_shin" site="hind_left_shin_site"/>
    <velocimeter name="vel_hl_shin" site="hind_left_shin_site"/>
    <accelerometer name="acc_hl_foot" site="hind_left_foot_site"/>
    <velocimeter name="vel_hl_foot" site="hind_left_foot_site"/>

    <accelerometer name="acc_hr_thigh" site="hind_right_thigh_site"/>
    <velocimeter name="vel_hr_thigh" site="hind_right_thigh_site"/>
    <accelerometer name="acc_hr_shin" site="hind_right_shin_site"/>
    <velocimeter name="vel_hr_shin" site="hind_right_shin_site"/>
    <accelerometer name="acc_hr_foot" site="hind_right_foot_site"/>
    <velocimeter name="vel_hr_foot" site="hind_right_foot_site"/>

    <ballquat name="q_neck_base" joint="neck_base"/>
    <ballquat name="q_neck_head" joint="neck_head"/>
    <ballquat name="q_spine_chest" joint="spine_chest"/>
    <ballquat name="q_spine_hips" joint="spine_hips"/>
    <ballquat name="q_fl_hip" joint="front_left_hip"/>
    <ballquat name="q_fr_hip" joint="front_right_hip"/>
    <ballquat name="q_hl_hip" joint="hind_left_hip"/>
    <ballquat name="q_hr_hip" joint="hind_right_hip"/>

    <jointpos name="p_fl_knee" joint="front_left_knee"/>
    <jointpos name="p_fl_ankle" joint="front_left_ankle"/>
    <jointpos name="p_fl_tilt" joint="front_left_tilt"/>

    <jointpos name="p_fr_knee" joint="front_right_knee"/>
    <jointpos name="p_fr_ankle" joint="front_right_ankle"/>
    <jointpos name="p_fr_tilt" joint="front_right_tilt"/>

    <jointpos name="p_hl_knee" joint="hind_left_knee"/>
    <jointpos name="p_hl_ankle" joint="hind_left_ankle"/>
    <jointpos name="p_hl_tilt" joint="hind_left_tilt"/>

    <jointpos name="p_hr_knee" joint="hind_right_knee"/>
    <jointpos name="p_hr_ankle" joint="hind_right_ankle"/>
    <jointpos name="p_hr_tilt" joint="hind_right_tilt"/>

    <jointpos name="p_tail1_y" joint="tail_joint_1_y"/>
    <jointpos name="p_tail1_z" joint="tail_joint_1_z"/>
    <jointpos name="p_tail2_y" joint="tail_joint_2_y"/>
    <jointpos name="p_tail2_z" joint="tail_joint_2_z"/>
    <jointpos name="p_tail3_y" joint="tail_joint_3_y"/>
    <jointpos name="p_tail3_z" joint="tail_joint_3_z"/>

    <ballangvel name="w_neck_base" joint="neck_base"/>
    <ballangvel name="w_neck_head" joint="neck_head"/>
    <ballangvel name="w_spine_chest" joint="spine_chest"/>
    <ballangvel name="w_spine_hips" joint="spine_hips"/>
    <ballangvel name="w_fl_hip" joint="front_left_hip"/>
    <ballangvel name="w_fr_hip" joint="front_right_hip"/>
    <ballangvel name="w_hl_hip" joint="hind_left_hip"/>
    <ballangvel name="w_hr_hip" joint="hind_right_hip"/>

    <jointvel name="v_fl_knee" joint="front_left_knee"/>
    <jointvel name="v_fl_ankle" joint="front_left_ankle"/>
    <jointvel name="v_fl_tilt" joint="front_left_tilt"/>

    <jointvel name="v_fr_knee" joint="front_right_knee"/>
    <jointvel name="v_fr_ankle" joint="front_right_ankle"/>
    <jointvel name="v_fr_tilt" joint="front_right_tilt"/>

    <jointvel name="v_hl_knee" joint="hind_left_knee"/>
    <jointvel name="v_hl_ankle" joint="hind_left_ankle"/>
    <jointvel name="v_hl_tilt" joint="hind_left_tilt"/>

    <jointvel name="v_hr_knee" joint="hind_right_knee"/>
    <jointvel name="v_hr_ankle" joint="hind_right_ankle"/>
    <jointvel name="v_hr_tilt" joint="hind_right_tilt"/>

    <jointvel name="v_tail1_y" joint="tail_joint_1_y"/>
    <jointvel name="v_tail1_z" joint="tail_joint_1_z"/>
    <jointvel name="v_tail2_y" joint="tail_joint_2_y"/>
    <jointvel name="v_tail2_z" joint="tail_joint_2_z"/>
    <jointvel name="v_tail3_y" joint="tail_joint_3_y"/>
    <jointvel name="v_tail3_z" joint="tail_joint_3_z"/>

    <framequat name="chest_orient" objtype="body" objname="chest"/>
  </sensor>

  <!-- ==================== KEYFRAMES ==================== -->
  <keyframe>
    <!-- Added 1 extra DOF per foot (tilt) -> inserted a 0 after each ankle value -->
    <key name="quad_stance" qpos="
      0 0 0.17  1 0 0 0
      0.9914  0.1305  0  0
      0.9914 -0.1305  0  0

      0.9848 0 -0.1736 0   1.20  -0.85  0
      0.9848 0 -0.1736 0   1.20  -0.85  0

      0.9914  0.1305  0  0
      0.9914 -0.1305  0  0

      0.9763 0 -0.2164 0   1.30  -0.95  0
      0.9763 0 -0.2164 0   1.30  -0.95  0

      0 0
      0 0
      0 0
    "/>
  </keyframe>

  <!-- ==================== CONTACT EXCLUSIONS ==================== -->
  <contact>
    <exclude body1="chest" body2="trunk"/>
    <exclude body1="trunk" body2="hips"/>
    <exclude body1="chest" body2="neck"/>
    <exclude body1="neck" body2="head"/>
    <exclude body1="hips" body2="tail_1"/>
    <exclude body1="tail_1" body2="tail_2"/>
    <exclude body1="tail_2" body2="tail_3"/>
    <exclude body1="front_left_thigh" body2="chest"/>
    <exclude body1="front_right_thigh" body2="chest"/>
    <exclude body1="hind_left_thigh" body2="hips"/>
    <exclude body1="hind_right_thigh" body2="hips"/>
  </contact>
</mujoco>
